<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>wxMaxima</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="wxmaxima.css" />
  <link rel="icon" type="image/svg+xml" href="wxmaxima.svg" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">wxMaxima</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#wxmaxima-用户手册">wxMaxima 用户手册</a></li>
<li><a href="#wxmaxima-简介"><span class="toc-section-number">1</span> wxMaxima 简介</a><ul>
<li><a href="#maxima-和-wxmaxima"><span class="toc-section-number">1.1</span> Maxima 和 wxMaxima</a><ul>
<li><a href="#maxima"><span class="toc-section-number">1.1.1</span> Maxima</a></li>
<li><a href="#wxmaxima"><span class="toc-section-number">1.1.2</span> wxMaxima</a></li>
</ul></li>
<li><a href="#工作簿workbook基础"><span class="toc-section-number">1.2</span> 工作簿（Workbook）基础</a><ul>
<li><a href="#工作簿的使用"><span class="toc-section-number">1.2.1</span> 工作簿的使用</a></li>
<li><a href="#单元格"><span class="toc-section-number">1.2.2</span> 单元格</a></li>
<li><a href="#水平光标和竖直光标"><span class="toc-section-number">1.2.3</span> 水平光标和竖直光标</a></li>
<li><a href="#向-maxima-发送单元格"><span class="toc-section-number">1.2.4</span> 向 Maxima 发送单元格</a></li>
<li><a href="#命令自动补全"><span class="toc-section-number">1.2.5</span> 命令自动补全</a></li>
<li><a href="#侧边栏"><span class="toc-section-number">1.2.6</span> 侧边栏</a></li>
<li><a href="#mathml-输出"><span class="toc-section-number">1.2.7</span> MathML 输出</a></li>
<li><a href="#标记语言markdown支持"><span class="toc-section-number">1.2.8</span> 标记语言（Markdown）支持</a></li>
<li><a href="#快捷键"><span class="toc-section-number">1.2.9</span> 快捷键</a></li>
<li><a href="#导出-tex-时的原始-tex-代码"><span class="toc-section-number">1.2.10</span> 导出 TeX 时的原始 TeX 代码</a></li>
</ul></li>
<li><a href="#文件格式"><span class="toc-section-number">1.3</span> 文件格式</a><ul>
<li><a href="#mac"><span class="toc-section-number">1.3.1</span> .mac</a></li>
<li><a href="#wxm"><span class="toc-section-number">1.3.2</span> .wxm</a></li>
<li><a href="#wxmx"><span class="toc-section-number">1.3.3</span> .wxmx</a></li>
</ul></li>
<li><a href="#设置选项"><span class="toc-section-number">1.4</span> 设置选项</a><ul>
<li><a href="#默认动图帧率"><span class="toc-section-number">1.4.1</span> 默认动图帧率</a></li>
<li><a href="#新-maxima-会话的默认绘图尺寸"><span class="toc-section-number">1.4.2</span> 新 Maxima 会话的默认绘图尺寸</a></li>
<li><a href="#在文本中匹配括号"><span class="toc-section-number">1.4.3</span> 在文本中匹配括号</a></li>
<li><a href="#不自动保存工作簿"><span class="toc-section-number">1.4.4</span> 不自动保存工作簿</a></li>
<li><a href="#设置信息保存的位置"><span class="toc-section-number">1.4.5</span> 设置信息保存的位置</a></li>
</ul></li>
</ul></li>
<li><a href="#对-maxima-功能的扩充"><span class="toc-section-number">2</span> 对 Maxima 功能的扩充</a><ul>
<li><a href="#为变量添加下标"><span class="toc-section-number">2.1</span> 为变量添加下标</a></li>
<li><a href="#在状态栏中提供反馈信息"><span class="toc-section-number">2.2</span> 在状态栏中提供反馈信息</a></li>
<li><a href="#绘图"><span class="toc-section-number">2.3</span> 绘图</a><ul>
<li><a href="#将绘制的图形嵌入工作簿"><span class="toc-section-number">2.3.1</span> 将绘制的图形嵌入工作簿</a></li>
<li><a href="#设置嵌入图形的大小"><span class="toc-section-number">2.3.2</span> 设置嵌入图形的大小</a></li>
<li><a href="#更好的绘图质量"><span class="toc-section-number">2.3.3</span> 更好的绘图质量</a></li>
<li><a href="#在交互式-gnuplot-窗口中打开嵌入的绘图"><span class="toc-section-number">2.3.4</span> 在交互式 gnuplot 窗口中打开嵌入的绘图</a></li>
<li><a href="#在绘图窗口中打开-gnuplot-控制台"><span class="toc-section-number">2.3.5</span> 在绘图窗口中打开 gnuplot 控制台</a></li>
<li><a href="#在工作簿中嵌入动图"><span class="toc-section-number">2.3.6</span> 在工作簿中嵌入动图</a></li>
<li><a href="#同时打开多个绘图窗口"><span class="toc-section-number">2.3.7</span> 同时打开多个绘图窗口</a></li>
<li><a href="#用-draw-函数绘图侧边栏"><span class="toc-section-number">2.3.8</span> “用 draw 函数绘图”侧边栏</a></li>
</ul></li>
<li><a href="#嵌入图片"><span class="toc-section-number">2.4</span> 嵌入图片</a></li>
<li><a href="#启动时读取的文件"><span class="toc-section-number">2.5</span> 启动时读取的文件</a></li>
<li><a href="#以-wx-开头的特殊变量"><span class="toc-section-number">2.6</span> 以 wx 开头的特殊变量</a></li>
<li><a href="#输出美观的二维公式"><span class="toc-section-number">2.7</span> 输出美观的二维公式</a></li>
<li><a href="#错误bug报告"><span class="toc-section-number">2.8</span> 错误（bug）报告</a></li>
<li><a href="#让输出显示为红色"><span class="toc-section-number">2.9</span> 让输出显示为红色</a></li>
</ul></li>
<li><a href="#疑难解答"><span class="toc-section-number">3</span> 疑难解答</a><ul>
<li><a href="#无法连接到-maxima"><span class="toc-section-number">3.1</span> 无法连接到 Maxima</a></li>
<li><a href="#从损坏的-.wxmx-文件中取回信息的方法"><span class="toc-section-number">3.2</span> 从损坏的 .wxmx 文件中取回信息的方法</a></li>
<li><a href="#在命令完成前显示一些调试信息"><span class="toc-section-number">3.3</span> 在命令完成前显示一些调试信息</a></li>
<li><a href="#绘图结果是空的绘图框和错误信息"><span class="toc-section-number">3.4</span> 绘图结果是空的绘图框和错误信息</a></li>
<li><a href="#绘制动图时得到error-undefined-variable错误未定义的变量"><span class="toc-section-number">3.5</span> 绘制动图时得到“error: undefined variable（错误：未定义的变量）”</a></li>
<li><a href="#删除了一个单元格而撤销操作不起作用"><span class="toc-section-number">3.6</span> 删除了一个单元格，而撤销操作不起作用</a></li>
<li><a href="#wxmaxima-启动时显示信息maxima-process-terminatedmaxima-进程已终止"><span class="toc-section-number">3.7</span> wxMaxima 启动时显示信息“Maxima process terminated（Maxima 进程已终止）。”</a></li>
<li><a href="#maxima-永远在计算中而不响应输入"><span class="toc-section-number">3.8</span> Maxima 永远在计算中而不响应输入</a></li>
<li><a href="#基于-sbcl-的-maxima-耗尽内存"><span class="toc-section-number">3.9</span> 基于 SBCL 的 Maxima 耗尽内存</a></li>
<li><a href="#在-ubuntu-系统上有时输入无响应或响应迟缓"><span class="toc-section-number">3.10</span> 在 Ubuntu 系统上，有时输入无响应或响应迟缓</a></li>
<li><a href="#wxmaxima-在处理希腊字符或元音变音符时停止"><span class="toc-section-number">3.11</span> wxMaxima 在处理希腊字符或元音变音符时停止</a></li>
<li><a href="#绘图-1"><span class="toc-section-number">3.12</span> 绘图</a><ul>
<li><a href="#是否可以同时输出和嵌入绘图文件"><span class="toc-section-number">3.12.1</span> 是否可以同时输出和嵌入绘图文件？</a></li>
<li><a href="#是否可以指定绘制图形的相对比例"><span class="toc-section-number">3.12.2</span> 是否可以指定绘制图形的相对比例？</a></li>
</ul></li>
</ul></li>
<li><a href="#常见提问faq"><span class="toc-section-number">4</span> 常见提问（FAQ）</a><ul>
<li><a href="#有没有办法在-latex-页面中显示更多的文字"><span class="toc-section-number">4.1</span> 有没有办法在 LaTeX 页面中显示更多的文字？</a></li>
<li><a href="#是否有深色模式"><span class="toc-section-number">4.2</span> 是否有深色模式？</a></li>
<li><a href="#wxmaxima-有时在启动后的一段时间内无响应"><span class="toc-section-number">4.3</span> wxMaxima 有时在启动后的一段时间内无响应</a></li>
</ul></li>
<li><a href="#命令行参数"><span class="toc-section-number">5</span> 命令行参数</a></li>
</ul>
</nav>
<h1 id="wxmaxima-用户手册" class="unnumbered">wxMaxima 用户手册</h1>
<p>wxMaxima 是计算机代数系统（CAS，computer algebra system）Maxima 的图形用户界面（GUI，graphical user interface）。在 wxMaxima 中，用户可以使用 Maxima 所有的命令。此外，wxMaxima 还提供了一些向导以方便用户使用最常用的功能。本手册描述了一些 wxMaxima 的特性，这些特性使其成为最流行的 Maxima 图形用户界面之一。</p>
<figure>
<img src="./wxMaximaLogo.png" alt="wxMaxima 的 logo" id="img_wxMaximaLogo" /><figcaption>wxMaxima 的 logo</figcaption>
</figure>
<p>在介绍本手册的内容之前，先给出一些关于文档导航的说明。正下方是一个简短的目录。单击任何列出的条目，即可跳转到手册对应节的顶部。单击<a href="#TOC">目录</a>可定位到详细的目录。此扩展目录可用于更直接地跳转到手册的各小节、小小节，以方便查看内容。</p>
<ul>
<li><a href="#introduction-to-wxmaxima" title="wxMaxima 简介">简介</a>：</li>
</ul>
<p>wxMaxima 基础知识</p>
<ul>
<li><a href="#extensions-to-maxima" title="扩充内容">扩充内容</a>：</li>
</ul>
<p>wxMaxima 向 Maxima 添加的命令</p>
<ul>
<li><a href="#troubleshooting" title="疑难解答">疑难解答</a>：</li>
</ul>
<p>当 wxMaxima 不按预期运行时的解决办法</p>
<ul>
<li><a href="#faq" title="常见提问">常见提问（FAQ）</a>：</li>
</ul>
<p>常见提问（Frequently asked questions）</p>
<ul>
<li><a href="#command-line-arguments" title="Maxima 命令行">命令行</a>：</li>
</ul>
<p>wxMaxima 支持的命令行参数</p>
<hr />
<h1 id="wxmaxima-简介"><span class="header-section-number">1</span> wxMaxima 简介</h1>
<h2 id="maxima-和-wxmaxima"><span class="header-section-number">1.1</span> Maxima 和 wxMaxima</h2>
<p>在开源领域，大型项目通常被分割成小型项目，后者对于小规模开发组来说更容易处理。例如，一个 CD 刻录机程序会包括一个实际刻录 CD 的命令行程序和一个图形用户界面，该界面使得用户不必了解所有的命令行参数就能刻录 CD，从而实际上避开了使用命令行。这种方法的一个优点是，投入到命令行程序中的开发工作可以被许多程序共享：同一个刻录 CD 的命令行程序可以用作文件管理器应用程序的“发送到 CD”插件、音乐播放器的“刻录到 CD”功能以及 DVD 备份工具的刻录 CD 功能。另一个优点是将一个大型任务分解成更小的部分时，开发人员就可以为同一个程序提供多个用户界面。</p>
<p>一个像 Maxima 这样的计算机代数系统（CAS，computer algebra system）也适合前述框架。Maxima 可以用作任意精度计算器程序的底层软件，也可以在更大计算系统中作为公式转换程序来帮助计算（例如 <a href="https://www.sagemath.org/">Sage</a>）。Maxima 也可以直接作为独立的计算系统使用，它可以通过命令行来访问。然而，在通常情况下，像 wxMaxima 这样的用户界面是使用 Maxima 的一种更有效的方法，特别是对于新手而言更是如此。</p>
<h3 id="maxima"><span class="header-section-number">1.1.1</span> Maxima</h3>
<p>Maxima 是一个功能齐全的计算机代数系统（CAS）。CAS 是一个程序，它可以通过对公式变形并找到问题的解来求解数学问题，而不是仅仅输出结果的数值。换言之，Maxima 可以作为一个计算器，给出变量的数值表示，也可以提供解析解。此外，它还提供了一系列数值分析方法，用于求解没有解析解的方程或方程组。</p>
<figure>
<img src="./maxima_screenshot.png" alt="Maxima 截图，命令行" id="img_maxima_screenshot" /><figcaption>Maxima 截图，命令行</figcaption>
</figure>
<p>Extensive documentation for <em>Maxima</em> is <a href="https://maxima.sourceforge.io/documentation.html">available in the internet</a>. Part of this documentation is also available in wxMaxima’s help menu. Pressing the Help key (on most systems the F1 key) causes <em>wxMaxima</em>’s context-sensitive help feature to automatically jump to <em>Maxima</em>’s manual page for the command at the cursor.</p>
<h3 id="wxmaxima"><span class="header-section-number">1.1.2</span> wxMaxima</h3>
<p>wxMaxima 是一个图形用户界面，它提供了 Maxima 的全部功能和灵活性。wxMaxima 为用户提供了图形显示和许多其他功能，使得 Maxima 更易于使用。例如，wxMaxima 允许用户通过右键单击将任何单元格的内容（或者，如果需要，也可以导出公式的任何部分）作为文本、LaTeX 代码或 MathML 代码导出。实际上，用户可以将整个工作簿（workbook）导出为 HTML 文件或 LaTeX 文件。有关 wxMaxima 的文档，包括说明其各种使用方法的工作簿，都可以在 wxMaxima 的<a href="https://wxMaxima-developers.github.io/wxMaxima/help.html">帮助站点</a>上找到，也可以通过“帮助”菜单查看相关说明。</p>
<figure>
<img src="./wxMaximaWindow.png" alt="wxMaxima 界面" id="img_wxMaximaWindow" /><figcaption>wxMaxima 界面</figcaption>
</figure>
<p>在 wxMaxima 中输入的计算式是由 Maxima 命令行工具在后台执行的。</p>
<h2 id="工作簿workbook基础"><span class="header-section-number">1.2</span> 工作簿（Workbook）基础</h2>
<p>大部分 wxMaxima 功能是不言自明的，但有些细节需要注意。<a href="https://wxMaxima-developers.github.io/wxMaxima/help.html">这个网站</a>包含多个工作簿，这些工作簿涉及 wxMaxima 的各个方面。学习其中的一些（特别是“10 minute <em>(wx)Maxima</em> tutorial”，即“十分钟 (wx)Maxima 教程”）将增加用户对 Maxima 的内容和 wxMaxima 与 Maxima 交互过程的熟悉度。本手册集中描述 wxMaxima 的某些功能，这些功能可能并非不言而喻的，也可能不会被在线文档涵盖。</p>
<h3 id="工作簿的使用"><span class="header-section-number">1.2.1</span> 工作簿的使用</h3>
<p>wxMaxima 的特性之一是可以将发送给 Maxima 的命令提前组织到单元格中，这些单元格只在用户请求时才被处理（这意味着：把命令发送给 Maxima）。在处理单元格时，该单元格（且仅该单元格）中的所有命令将作为批处理进行计算。（前面的语句并不十分准确，因为可以选择一组相邻的单元格并且一起计算它们，或者让 Maxima 一次性算完工作簿中的所有单元格。）wxMaxima 提交命令的方法乍一看可能会觉得陌生。但是，这种做法确实大大简化了处理大型文档的工作（用户不希望每次更改都自动触发对整个文档的重新计算）。而且，该方法用于调试命令时非常方便。</p>
<p>如果输入文本到 wxMaxima 中，则会自动创建一个新的工作簿单元格。可以在工具栏中选择此单元格的类型。如果创建了一个（数学）代码单元格，则可以将该单元格发送到 Maxima，这将使得计算结果显示在代码下方。下面显示了一对这样的命令：</p>
<figure>
<img src="./InputCell.png" alt="输入、输出单元格" id="img_InputCell" /><figcaption>输入、输出单元格</figcaption>
</figure>
<p>在计算（数学）输入单元格的内容时，Maxima 会为该输入指定一个标签（默认情况下以红色显示，并且可以由“%i”加数字识别），以便在 wxMaxima 会话的后续内容中引用该标签。Maxima 生成的输出也会获得以“%o”开头的标签，而当用户为输出指定了名称（如变量名）时，该标签是隐藏的。在后一种情况下，默认显示用户定义的名称。不过，此时仍可以访问 Maxima 自动生成的“%o”型标签。</p>
<p>除了（数学）输入单元格外，wxMaxima 中还可以使用文本单元格、图片单元格、标题单元格、节单元格和小节单元格等。每个单元格都有独立的撤消缓冲区，因此通过更改多个单元格的内容，然后逐步撤销不需要的更改来进行调试，是非常容易的。此外，工作簿本身有一个全局撤消缓冲区，可以撤消单元格编辑、添加和删除操作。</p>
<p>下图显示了不同的单元格类型（标题单元格、节单元格、小节单元格、文本单元格、输入/输出单元格和图片单元格）：</p>
<figure>
<img src="./cell-example.png" alt="wxMaxima 的不同类型单元格" id="img_cell-example" /><figcaption>wxMaxima 的不同类型单元格</figcaption>
</figure>
<h3 id="单元格"><span class="header-section-number">1.2.2</span> 单元格</h3>
<p>工作簿由单元格组成。每个单元格可以包含以下类型的内容：</p>
<ul>
<li>一行或多行 Maxima 命令；</li>
<li>一个或多个图片；</li>
<li>Maxima 的输出（含提问、报错信息）；</li>
<li>文本块，例如可用于组成文档的段落；</li>
<li>文档标题、节标题或小节标题等。</li>
</ul>
<p>当输入文本时，wxMaxima 的默认行为是自动创建一个数学单元格。可以使用“单元格”菜单、菜单中显示的热键或工具栏中的下拉列表创建其他类型的单元格。一旦创建了非数学单元格，输入到文档的任何内容都将被解释为文本。</p>
<p>额外的注释文本可以输入到一个数学单元格中，格式为：<code>/*此注释将不会发送到 Maxima 中进行计算*/</code>。</p>
<h3 id="水平光标和竖直光标"><span class="header-section-number">1.2.3</span> 水平光标和竖直光标</h3>
<p>在一般的文字处理程序中，如果用户试图选择多个行，该程序将尝试扩展选择范围，使其自动包括这些行的所有内容。类似地，在 wxMaxima 中，如果同时选择了多个单元格，则 wxMaxima 会将选择范围扩展到所有这些单元格的内容。</p>
<p>与一般程序不同的是，wxMaxima 通过定义两种类型的光标，提供了操作灵活性。wxMaxima 将在需要时自动在它们之间切换：</p>
<ul>
<li>如果光标在两个单元格之间移动或单击，则会使用水平光标；</li>
<li>如果在单元格内输入时，则会使用垂直光标。此种光标是当使用鼠标指针或方向键在单元格内移动光标时被激活的，与文本编辑器中光标的激活方式非常相似。</li>
</ul>
<p>When you start wxMaxma, you will only see the blinking horizontal cursor. If you start typing a math cell will be automatically created (you will see a right arrow as “prompt”, after the Math cell is evaluated (<kbd>CTRL+Enter</kbd>), you will see the labels, e.g. <code>(%i1)</code>, <code>(%o1)</code>.</p>
<figure>
<img src="./horizontal-cursor-only.png" alt="(blinking) horizontal cursor after wxMaxima start" id="horizontal-cursor-only" /><figcaption>(blinking) horizontal cursor after wxMaxima start</figcaption>
</figure>
<p>You might want to create another cell type (using the “Cell” menu), maybe a title cell or text cell, which describes, what will be done, when you start creating your worksheet.</p>
<p>If you navigate between the different cells, you will also see the (blinking) horizontal cursor, where you can insert a cell into your worksheet (either a math cell, by just start typing your formula or another cell type).</p>
<figure>
<img src="./horizontal-cursor-between-cells.png" alt="(blinking) horizontal cursor between cells" id="horizontal-cursor-between-cells" /><figcaption>(blinking) horizontal cursor between cells</figcaption>
</figure>
<h3 id="向-maxima-发送单元格"><span class="header-section-number">1.2.4</span> 向 Maxima 发送单元格</h3>
<p>只要按下键盘上的 <kbd>CTRL</kbd>+<kbd>ENTER</kbd>、<kbd>SHIFT</kbd>+<kbd>ENTER</kbd> 或 <kbd>ENTER</kbd> 键，（数学）代码单元格中的命令就会执行。wxMaxima 的默认设置是 <kbd>CTRL</kbd>+<kbd>ENTER</kbd> 或 <kbd>SHIFT</kbd>+ENTER</kbd> 键会使得命令由 Maxima 执行，但也可以设置为按下 <kbd>ENTER</kbd> 键执行命令。</p>
<h3 id="命令自动补全"><span class="header-section-number">1.2.5</span> 命令自动补全</h3>
<p>wxMaxima 包含自动补全功能，该功能可以通过菜单“单元格-&gt;自动补全”（Cell-&gt;Complete Word）或按组合键 <kbd>CTRL</kbd>+<kbd>K</kbd> 来触发。自动补全是上下文相关的。例如，如果在使用 ezUnits （单位换算包）的单元格中激活，它将提供适用的单位列表。</p>
<figure>
<img src="./ezUnits.png" alt="ezUnits" id="img_ezUnits" /><figcaption>ezUnits</figcaption>
</figure>
<p>除了补全文件名、单位名、当前命令或变量的名称之外，自动补全功能还可以显示大多数命令的模板，指示该命令所需参数的类型（和含义）。要激活此功能，可按下 <kbd>SHIFT</kbd> +<kbd>CTRL</kbd> +<kbd>K</kbd> 或选择相应的菜单项（“单元格-&gt;显示模板”，Cell-&gt;Show Template）。</p>
<h4 id="希腊字母"><span class="header-section-number">1.2.5.1</span> 希腊字母</h4>
<p>计算机一般以 8 位值（8-bit）存储字符，所以最多可以储存 256 个不同字符。大部分语言中的所有字母、数字和控制符号（传输结束、字符串结束、为菜单绘制矩形的线条和边缘等）都符合该限制。</p>
<p>不过，对于大多数国家来说，256 个字符的代码页并没有包括希腊字母，而这些字母是数学上常用的。为了克服这种限制，<a href="https://home.unicode.org/">Unicode</a>被发明了：一种使英文文本储存方式不变的编码，可使用的字符数远超 256 个。</p>
<p>如果使用支持 Unicode 或不关心字体编码的 Lisp 编译器来编译 Maxima，则在 Maxima 中可以使用 Unicode。前述两种情况中一般至少有一种是真的。wxMaxima 提供了一种使用键盘输入希腊字母的方法：</p>
<ul>
<li>可以通过按下 <kbd>ESC</kbd> 键，然后开始键入希腊字母的英文名称来输入该字母。</li>
<li>或者，也可以通过按下 <kbd>ESC</kbd>、一个英文字母（对希腊字母 omicron 而言是两个）并再次按下 <kbd>ESC</kbd> 来输入。在这种情况下，支持以下字母：</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">按键</th>
<th style="text-align: center;">希腊字母</th>
<th style="text-align: center;">按键</th>
<th style="text-align: center;">希腊字母</th>
<th style="text-align: center;">按键</th>
<th style="text-align: center;">希腊字母</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">a</td>
<td style="text-align: center;">alpha</td>
<td style="text-align: center;">i</td>
<td style="text-align: center;">iota</td>
<td style="text-align: center;">r</td>
<td style="text-align: center;">rho</td>
</tr>
<tr class="even">
<td style="text-align: center;">b</td>
<td style="text-align: center;">beta</td>
<td style="text-align: center;">k</td>
<td style="text-align: center;">kappa</td>
<td style="text-align: center;">s</td>
<td style="text-align: center;">sigma</td>
</tr>
<tr class="odd">
<td style="text-align: center;">g</td>
<td style="text-align: center;">gamma</td>
<td style="text-align: center;">l</td>
<td style="text-align: center;">lambda</td>
<td style="text-align: center;">t</td>
<td style="text-align: center;">tau</td>
</tr>
<tr class="even">
<td style="text-align: center;">d</td>
<td style="text-align: center;">delta</td>
<td style="text-align: center;">m</td>
<td style="text-align: center;">mu</td>
<td style="text-align: center;">u</td>
<td style="text-align: center;">upsilon</td>
</tr>
<tr class="odd">
<td style="text-align: center;">e</td>
<td style="text-align: center;">epsilon</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">nu</td>
<td style="text-align: center;">f</td>
<td style="text-align: center;">phi</td>
</tr>
<tr class="even">
<td style="text-align: center;">z</td>
<td style="text-align: center;">zeta</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;">xi</td>
<td style="text-align: center;">c</td>
<td style="text-align: center;">chi</td>
</tr>
<tr class="odd">
<td style="text-align: center;">h</td>
<td style="text-align: center;">eta</td>
<td style="text-align: center;">om</td>
<td style="text-align: center;">omicron</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">psi</td>
</tr>
<tr class="even">
<td style="text-align: center;">q</td>
<td style="text-align: center;">theta</td>
<td style="text-align: center;">p</td>
<td style="text-align: center;">pi</td>
<td style="text-align: center;">o</td>
<td style="text-align: center;">omega</td>
</tr>
<tr class="odd">
<td style="text-align: center;">A</td>
<td style="text-align: center;">Alpha</td>
<td style="text-align: center;">I</td>
<td style="text-align: center;">Iota</td>
<td style="text-align: center;">R</td>
<td style="text-align: center;">Rho</td>
</tr>
<tr class="even">
<td style="text-align: center;">B</td>
<td style="text-align: center;">Beta</td>
<td style="text-align: center;">K</td>
<td style="text-align: center;">Kappa</td>
<td style="text-align: center;">S</td>
<td style="text-align: center;">Sigma</td>
</tr>
<tr class="odd">
<td style="text-align: center;">G</td>
<td style="text-align: center;">Gamma</td>
<td style="text-align: center;">L</td>
<td style="text-align: center;">Lambda</td>
<td style="text-align: center;">T</td>
<td style="text-align: center;">Tau</td>
</tr>
<tr class="even">
<td style="text-align: center;">D</td>
<td style="text-align: center;">Delta</td>
<td style="text-align: center;">M</td>
<td style="text-align: center;">Mu</td>
<td style="text-align: center;">U</td>
<td style="text-align: center;">Upsilon</td>
</tr>
<tr class="odd">
<td style="text-align: center;">E</td>
<td style="text-align: center;">Epsilon</td>
<td style="text-align: center;">N</td>
<td style="text-align: center;">Nu</td>
<td style="text-align: center;">P</td>
<td style="text-align: center;">Phi</td>
</tr>
<tr class="even">
<td style="text-align: center;">Z</td>
<td style="text-align: center;">Zeta</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">Xi</td>
<td style="text-align: center;">C</td>
<td style="text-align: center;">Chi</td>
</tr>
<tr class="odd">
<td style="text-align: center;">H</td>
<td style="text-align: center;">Eta</td>
<td style="text-align: center;">Om</td>
<td style="text-align: center;">Omicron</td>
<td style="text-align: center;">Y</td>
<td style="text-align: center;">Psi</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">Theta</td>
<td style="text-align: center;">P</td>
<td style="text-align: center;">Pi</td>
<td style="text-align: center;">O</td>
<td style="text-align: center;">Omega</td>
</tr>
</tbody>
</table>
<p>用同样的方法还可以输入一些其他的数学符号：</p>
<table>
<thead>
<tr class="header">
<th>keys to enter</th>
<th>mathematical symbol</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>hbar</td>
<td>Planck’s constant: a h with a horizontal bar above it</td>
</tr>
<tr class="even">
<td>Hbar</td>
<td>a H with a horizontal bar above it</td>
</tr>
<tr class="odd">
<td>2</td>
<td>squared</td>
</tr>
<tr class="even">
<td>3</td>
<td>to the power of three</td>
</tr>
<tr class="odd">
<td>/2</td>
<td>1/2</td>
</tr>
<tr class="even">
<td>partial</td>
<td>partial sign (the d of dx/dt)</td>
</tr>
<tr class="odd">
<td>integral</td>
<td>integral sign</td>
</tr>
<tr class="even">
<td>sq</td>
<td>square root</td>
</tr>
<tr class="odd">
<td>ii</td>
<td>imaginary</td>
</tr>
<tr class="even">
<td>ee</td>
<td>element</td>
</tr>
<tr class="odd">
<td>in</td>
<td>in</td>
</tr>
<tr class="even">
<td>impl implies</td>
<td>implies</td>
</tr>
<tr class="odd">
<td>inf</td>
<td>infinity</td>
</tr>
<tr class="even">
<td>empty</td>
<td>empty</td>
</tr>
<tr class="odd">
<td>TB</td>
<td>big triangle right</td>
</tr>
<tr class="even">
<td>tb</td>
<td>small triangle right</td>
</tr>
<tr class="odd">
<td>and</td>
<td>and</td>
</tr>
<tr class="even">
<td>or</td>
<td>or</td>
</tr>
<tr class="odd">
<td>xor</td>
<td>xor</td>
</tr>
<tr class="even">
<td>nand</td>
<td>nand</td>
</tr>
<tr class="odd">
<td>nor</td>
<td>nor</td>
</tr>
<tr class="even">
<td>equiv</td>
<td>equivalent to</td>
</tr>
<tr class="odd">
<td>not</td>
<td>not</td>
</tr>
<tr class="even">
<td>union</td>
<td>union</td>
</tr>
<tr class="odd">
<td>inter</td>
<td>intersection</td>
</tr>
<tr class="even">
<td>subseteq</td>
<td>subset or equal</td>
</tr>
<tr class="odd">
<td>subset</td>
<td>subset</td>
</tr>
<tr class="even">
<td>notsubseteq</td>
<td>not subset or equal</td>
</tr>
<tr class="odd">
<td>notsubset</td>
<td>not subset</td>
</tr>
<tr class="even">
<td>approx</td>
<td>approximately</td>
</tr>
<tr class="odd">
<td>propto</td>
<td>proportional to</td>
</tr>
<tr class="even">
<td>neq != /= or #</td>
<td>not equal to</td>
</tr>
<tr class="odd">
<td>+/- or pm</td>
<td>a plus/minus sign</td>
</tr>
<tr class="even">
<td>&lt;= or leq</td>
<td>equal or less than</td>
</tr>
<tr class="odd">
<td>&gt;= or geq</td>
<td>equal or greater than</td>
</tr>
<tr class="even">
<td>&lt;&lt; or ll</td>
<td>much less than</td>
</tr>
<tr class="odd">
<td>&gt;&gt; or gg</td>
<td>much greater than</td>
</tr>
<tr class="even">
<td>qed</td>
<td>end of proof</td>
</tr>
<tr class="odd">
<td>nabla</td>
<td>a nabla operator</td>
</tr>
<tr class="even">
<td>sum</td>
<td>sum sign</td>
</tr>
<tr class="odd">
<td>prod</td>
<td>product sign</td>
</tr>
<tr class="even">
<td>exists</td>
<td>there exists sign</td>
</tr>
<tr class="odd">
<td>nexists</td>
<td>there is no sign</td>
</tr>
<tr class="even">
<td>parallel</td>
<td>a parallel sign</td>
</tr>
<tr class="odd">
<td>perp</td>
<td>a perpendicular sign</td>
</tr>
<tr class="even">
<td>leadsto</td>
<td>a leads to sign</td>
</tr>
<tr class="odd">
<td>-&gt;</td>
<td>a right arrow</td>
</tr>
<tr class="even">
<td>–&gt;</td>
<td>a long right arrow</td>
</tr>
</tbody>
</table>
<p>如果某个特殊的 Unicode 字符不在上表中，则可以用如下方式输入：按下 <kbd>ESC</kbd> 后，输入该字符的 16 进制编码，再按下 <kbd>ESC</kbd>。</p>
<p>因此 <kbd>ESC</kbd> <kbd>61</kbd> <kbd>ESC</kbd> 输入了字符 <code>a</code>.</p>
<p>请注意，这些符号中的大多数（逻辑符号除外）在 Maxima 中没有特殊含义，因此将被解释为普通字符。如果使用不支持 Unicode 字符的 Lisp 编译器编译出 Maxima，则这些符号可能会导致输出错误消息。</p>
<h3 id="侧边栏"><span class="header-section-number">1.2.6</span> 侧边栏</h3>
<p>侧边栏可以用来访问一些常用的 Maxima 命令快捷方式、目录、包含调试消息的窗口或已执行命令的历史记录等。使用“查看”菜单可以启用这些侧边栏。它们都可以移动到 wxMaxima 窗口内部或外部。其中一个常用的是可用鼠标点选输入希腊字母的侧边栏。</p>
<figure>
<img src="./SidePanes.png" alt="各种类型的侧边栏" id="img_SidePanes" /><figcaption>各种类型的侧边栏</figcaption>
</figure>
<h3 id="mathml-输出"><span class="header-section-number">1.2.7</span> MathML 输出</h3>
<p>一些文字处理程序可以识别 MathML 输入并自动将其作为可编辑的数学公式插入，或者（像 LibreOffice 7.1 那样）有一个提供“从剪贴板导入 MathML”功能的公式编辑器。有些程序也支持 RTF 公式。因此，wxMaxima 在右键单击菜单中提供了多种复制公式的方法。</p>
<h3 id="标记语言markdown支持"><span class="header-section-number">1.2.8</span> 标记语言（Markdown）支持</h3>
<p>wxMaxima 提供了一些标准的标记（markdown）语言支持，而这些记号不会与数学符号相冲突。其中一个支持是项目符号列表。</p>
<pre><code>普通文本
 *一个条目，缩进级别为 1
 *另一个条目，缩进级别为 1
   *一个条目，缩进级别为 2
   *另一个条目，缩进级别为 2
*第三个条目，缩进级别为 1
普通文本</code></pre>
<p>wxMaxima 也能将以 <code>&gt;</code> 字符开头的文本识别为引用块：</p>
<pre><code>普通文本
&gt;引用文字
&gt;引用文字
&gt;引用文字
普通文本</code></pre>
<p>wxMaxima 的 TeX 和 HTML 输出也能识别 <code>=&gt;</code>，并将其替换为相应的 Unicode 符号：</p>
<pre><code>cogito =&gt; sum.</code></pre>
<p>导出 TeX 和 HTML 文件时将识别的其他符号还有不等号（<code>&lt;=</code> 和 <code>&gt;=</code>）、双线箭头（<code>&lt;=&gt;</code>）、单线箭头（<code>&lt;-&gt;</code>、<code>-&gt;</code> 和 <code>&lt;-</code>）以及 <code>+/-</code>。对于 TeX 输出，还可以识别 <code>&lt;&lt;</code> 和 <code>&gt;&gt;</code>。</p>
<h3 id="快捷键"><span class="header-section-number">1.2.9</span> 快捷键</h3>
<p>大多数快捷键可以在相应菜单的文本中找到。由于它们实际上是从菜单文本中获取的，所以可以通过 wxMaxima 的翻译文本进行定制，以满足本地用户的需求，因此我们不在这里记录它们。但是，一些快捷键或其别名并没有记录在菜单中：</p>
<ul>
<li><kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>DELETE</kbd> 删除一个单元格。</li>
<li><kbd>CTRL+TAB</kbd> 或 <kbd>CTRL+SHIFT+TAB</kbd> 开启自动补全功能。</li>
<li><kbd>SHIFT</kbd>+<kbd>SPACE</kbd> 插入一个不可断行的空格。</li>
</ul>
<h3 id="导出-tex-时的原始-tex-代码"><span class="header-section-number">1.2.10</span> 导出 TeX 时的原始 TeX 代码</h3>
<p>如果文本单元格以 <code>TeX:</code> 开头，则导出 TeX 时，文件将包含 <code>TeX:</code> 标记后面的文本。使用此功能可以在 wxMaxima 工作簿中输入 TeX 代码。</p>
<h2 id="文件格式"><span class="header-section-number">1.3</span> 文件格式</h2>
<p>在 wxMaxima 中输入的内容可以存为以下三种文件格式之一，以供以后使用：</p>
<h3 id="mac"><span class="header-section-number">1.3.1</span> .mac</h3>
<p><code>.mac</code> files are ordinary text files that contain <em>Maxima</em> commands. They can be read using <em>Maxima</em>’s <code>batch()</code> or <code>load()</code> command or <em>wxMaxima</em>’s File/Batch File menu entry.</p>
<p>One Example is shown below. <code>Quadratic.mac</code> defines a function and afterwards generates a plot with <code>wxdraw2d()</code>. Afterwards the contents of the file <code>Quadratic.mac</code> are printed and new defined function <code>f()</code> is evaluated.</p>
<figure>
<img src="./BatchImage.png" alt="Loading a .mac file with batch()" id="img_BatchImage" /><figcaption>Loading a <code>.mac</code> file with <code>batch()</code></figcaption>
</figure>
<p>Attention: Although the file <code>Quadratic.mac</code> has an usual <em>Maxima</em> extension (<code>.mac</code>), it can only be read by <em>wxMaxima</em>, since the command <code>wxdraw2d()</code> is a wxMaxima-extension to <em>Maxima</em>.</p>
<p>用户可以使用 <code>.mac</code> 文件编写自己的程序包。但是由于它们没有包含足够的结构信息，因此不能作为一个 wxMaxima 工作簿来读取。</p>
<h3 id="wxm"><span class="header-section-number">1.3.2</span> .wxm</h3>
<p><code>.wxm</code> 文件包含除 Maxima 输出之外的工作簿内容。在版本号大于 5.38 的 Maxima 上，可以像 <code>.mac</code> 文件一样，使用 Maxima 的 <code>load()</code> 函数来读取。如果采用这种文本格式，使用含新功能的工作簿时会不可避免地与旧版本的 wxMaxima 不兼容。</p>
<h3 id="wxmx"><span class="header-section-number">1.3.3</span> .wxmx</h3>
<p>这种基于 XML 的文件格式保存了完整的工作簿内容，包括缩放因子和观察列表等内容。它是首选的文件格式。</p>
<h2 id="设置选项"><span class="header-section-number">1.4</span> 设置选项</h2>
<p>对于一些常见的可设置变量，wxMaxima提供了两种设置方法：</p>
<ul>
<li>下面的设置对话框允许用户更改当前和后续会话的默认值。</li>
<li>对于当前会话，要变更大多数可设置变量的值只能通过从工作簿添加相应的命令，见后续说明。</li>
</ul>
<figure>
<img src="./wxMaxima_configuration_001.png" alt="wxMaxima 设置对话框" id="img_wxMaxima_configuration_001" /><figcaption>wxMaxima 设置对话框</figcaption>
</figure>
<h3 id="默认动图帧率"><span class="header-section-number">1.4.1</span> 默认动图帧率</h3>
<p>用于新生成动图的帧率保存在变量 <code>wxanimate_framerate</code> 中，可以使用设置对话框更改此变量在新工作簿中的初始值。</p>
<h3 id="新-maxima-会话的默认绘图尺寸"><span class="header-section-number">1.4.2</span> 新 Maxima 会话的默认绘图尺寸</h3>
<p>如果 <code>wxplot_size</code> 的值没有被 Maxima 更改，则使用此大小创建绘图并嵌入工作簿。</p>
<p>为了仅对单个绘图命令设置绘制图形的大小，可以使用以下代码：</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb4-1" title="1"><span class="cn">wxdraw2d</span>(</a>
<a class="sourceLine" id="cb4-2" title="2">   <span class="cn">explicit</span>(</a>
<a class="sourceLine" id="cb4-3" title="3">       <span class="cn">x</span>^<span class="dv">2</span>,</a>
<a class="sourceLine" id="cb4-4" title="4">       <span class="cn">x</span>,<span class="dv">-5</span>,<span class="dv">5</span></a>
<a class="sourceLine" id="cb4-5" title="5">   )</a>
<a class="sourceLine" id="cb4-6" title="6">), <span class="cn">wxplot_size</span>=[<span class="dv">480</span>,<span class="dv">480</span>]$</a></code></pre></div>
<h3 id="在文本中匹配括号"><span class="header-section-number">1.4.3</span> 在文本中匹配括号</h3>
<p>该选项使以下两个功能生效：</p>
<ul>
<li>如果输入了左括号、左方括号或左双引号，wxMaxima 将自动在其后插入与之配对的右括号、右方括号或右双引号。</li>
<li>如果在输入前述字符中的任何一个时选择了文本，则所选文本将被放在配对的两个字符之间。</li>
</ul>
<h3 id="不自动保存工作簿"><span class="header-section-number">1.4.4</span> 不自动保存工作簿</h3>
<p>如果设置了此选项，则只有在用户请求时才会覆盖工作簿所在的文件。为了防止发生碰撞、断电等突发情况，临时目录（temp）中仍保留了一个最近的备份文件。</p>
<p>如果未设置此选项，则 wxMaxima 的行为更像现代手机软件：</p>
<ul>
<li>文件在退出时被自动保存；</li>
<li>每 3 分钟文件被自动保存一次；</li>
</ul>
<h3 id="设置信息保存的位置"><span class="header-section-number">1.4.5</span> 设置信息保存的位置</h3>
<p>当使用 Unix/Linux 系统时，设置信息将保存在主目录中的 <code>.wxMaxima</code> 文件里（如果 wxWidgets 版本号小于 3.1.1）或 <code>.config/wxMaxima.conf</code> 文件里（如果 wxWidgets 的版本号大于等于 3.1.1（XDG标准））。用户可以通过命令 <code>wxbuild_info();</code> 或使用菜单选项 “帮助-&gt;关于”（Help-&gt;About）来检索 wxWidgets 版本号。<a href="https://www.wxwidgets.org/">wxWidgets</a> 是跨平台的 GUI 库，也是 wxMaxima 的底层库（因此 wxMaxima 的名称中带“wx”）。 （由于文件名以点“.”开头，文件 <code>.wxMaxima</code> 或 <code>.config</code> 将被隐藏）。</p>
<p>当使用 Windows 系统时，配置信息将存储在注册表中。在注册表中的以下位置可以找到 wxMaxima 的相关条目：<code>HKEY_CURRENT_USER\Software\wxMaxima</code>。</p>
<hr />
<h1 id="对-maxima-功能的扩充"><span class="header-section-number">2</span> 对 Maxima 功能的扩充</h1>
<p>wxMaxima 是 Maxima 的图形用户界面，因此它的主要目的是将命令传递给 Maxima，并输出执行这些命令的结果。但是，在某些情况下，wxMaxima 会为 Maxima 添加新的功能。前面已提到 wxMaxima 可以将工作簿的内容导出为 HTML 和 LaTeX 文件。本节将讨论另外一些增强功能，以及在工作簿中包含图形的方法。</p>
<h2 id="为变量添加下标"><span class="header-section-number">2.1</span> 为变量添加下标</h2>
<p>如果 <code>wxsubscripts</code> 设置为 true，则当以下条件满足时，将使用下标来显示格式为 <code>x_y</code> 的变量名：</p>
<ul>
<li><code>y</code> 是一个字母；</li>
<li><code>y</code> 是一个整数。</li>
</ul>
<p>如果变量格式与上述条件不匹配，仍可以使用命令<code>wxdeclare_subscript(variable_name);</code> 或 <code>wxdeclare_subscript([variable_name1,variable_name2,...]);</code>来显示下标。声明为下标的变量可以使用以下命令还原格式：<code>wxdeclare_subscript(variable_name,false);</code>。</p>
<h2 id="在状态栏中提供反馈信息"><span class="header-section-number">2.2</span> 在状态栏中提供反馈信息</h2>
<p>长时间运行的命令中可以包含 <code>wxstatusbar()</code>，以用于在状态栏中向用户提供反馈信息。此反馈信息将被任何新生成的反馈信息覆盖（从而可以将其用作运行进度指示器），并在发送到 Maxima 的命令运行结束后立即被删除。即使在只与 Maxima（而非 wxMaxima）一起使用的库中包含命令 <code>wxstatusbar()</code> 也是可行的：如果没有运行 wxMaxima，那么命令 <code>wxstatusbar()</code> 也不会被执行。</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">for</span> <span class="cn">i</span>:<span class="dv">1</span> <span class="kw">thru</span> <span class="dv">10</span> <span class="kw">do</span> (</a>
<a class="sourceLine" id="cb5-2" title="2">    <span class="co">/* 告诉用户目前的运行位置 */</span></a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="cn">wxstatusbar</span>(<span class="fu">concat</span>(<span class="st">&quot;Pass &quot;</span>,<span class="cn">i</span>)),</a>
<a class="sourceLine" id="cb5-4" title="4">    <span class="co">/* (sleep n) 是可接在字符&quot;?&quot;后使用的 Lisp 函数 */</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="co">/* 它推迟了程序的运行，此处是 3 秒 */</span></a>
<a class="sourceLine" id="cb5-6" title="6">    ?<span class="cn">sleep</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb5-7" title="7">)$</a></code></pre></div>
<h2 id="绘图"><span class="header-section-number">2.3</span> 绘图</h2>
<p>因为绘图功能与图形密切相关，所以图形用户界面理应为原始程序的绘图功能提供一些扩充内容。</p>
<h3 id="将绘制的图形嵌入工作簿"><span class="header-section-number">2.3.1</span> 将绘制的图形嵌入工作簿</h3>
<p>Maxima 在创建图形时，通常会指示外部程序 gnuplot 用单独的窗口展示每个图形。因为在工作簿中嵌入图形通常会更方便，所以 wxMaxima 提供了自己的一组绘图函数。这些函数与其名称所对应的 Maxima 函数在使用时没有区别，但是都以“wx”为前缀。例如，<code>wxplot2d</code> 对应于 <code>plot2d</code>，<code>wxplot3d</code> 对应于 <code>plot3d</code>，<code>wxdraw</code> 对应于 <code>draw</code>，<code>wxhistogram</code> 对应于 <code>histogram</code>。</p>
<h3 id="设置嵌入图形的大小"><span class="header-section-number">2.3.2</span> 设置嵌入图形的大小</h3>
<p>如前面所述，设置对话框提供了一种更改默认绘图大小的方法，该方法设置了 <code>wxplot_size</code> 的默认值。绘图时，wxMaxima 将该变量识别为图片尺寸（以像素为单位）。可以查询该变量，或以如下方式设置所绘制图片的大小：</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb6-1" title="1"><span class="cn">wxplot_size</span>:[<span class="dv">1200</span>,<span class="dv">800</span>]$</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="cn">wxdraw2d</span>(</a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="cn">explicit</span>(</a>
<a class="sourceLine" id="cb6-4" title="4">        <span class="fu">sin</span>(<span class="cn">x</span>),</a>
<a class="sourceLine" id="cb6-5" title="5">        <span class="cn">x</span>,<span class="dv">1</span>,<span class="dv">10</span></a>
<a class="sourceLine" id="cb6-6" title="6">    )</a>
<a class="sourceLine" id="cb6-7" title="7">)$</a></code></pre></div>
<p>如果只更改一个绘制图片的大小，wxMaxima 提供了一种只为当前单元格更改属性的方法。具体用法为，将 <code>wxplot_size=[value1,value2]</code> 附加到 <code>wxdraw2d()</code> 命令结尾，而不是作为该命令的一部分：</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb7-1" title="1"><span class="cn">wxdraw2d</span>(</a>
<a class="sourceLine" id="cb7-2" title="2">    <span class="cn">explicit</span>(</a>
<a class="sourceLine" id="cb7-3" title="3">        <span class="fu">sin</span>(<span class="cn">x</span>),</a>
<a class="sourceLine" id="cb7-4" title="4">        <span class="cn">x</span>,<span class="dv">1</span>,<span class="dv">10</span></a>
<a class="sourceLine" id="cb7-5" title="5">    )</a>
<a class="sourceLine" id="cb7-6" title="6">),<span class="cn">wxplot_size</span>=[<span class="dv">1600</span>,<span class="dv">800</span>]$</a></code></pre></div>
<h3 id="更好的绘图质量"><span class="header-section-number">2.3.3</span> 更好的绘图质量</h3>
<p>Gnuplot 似乎没有提供一种通用的方法来确定它是否支持 cairo 库提供的高质量位图输出。如果所编译的 gnuplot 使用了 cairo 库，勾选设置菜单中的 pngcairo 选项（可被变量 <code>wxplot_pngcairo</code> 覆盖）可以提供抗锯齿和其他线条样式支持。如果设置了 <code>wxplot_pngcairo</code>，而 gnuplot 并未使用 cairo 库，则绘图将会失败并给出错误消息。</p>
<h3 id="在交互式-gnuplot-窗口中打开嵌入的绘图"><span class="header-section-number">2.3.4</span> 在交互式 gnuplot 窗口中打开嵌入的绘图</h3>
<p>如果绘图时使用 <code>wxdraw</code> 类型的命令（不含 <code>wxplot2d</code> 和 <code>wxplot3d</code>），并且底层的 <code>gnuplot</code> 项目文件不是太大，则 wxMaxima 提供了一个右键单击菜单，允许在交互式的 gnuplot 窗口中打开绘制的图形。</p>
<h3 id="在绘图窗口中打开-gnuplot-控制台"><span class="header-section-number">2.3.5</span> 在绘图窗口中打开 gnuplot 控制台</h3>
<p>在 Windows 系统上，如果 Maxima 的变量 <code>gnuplot_command</code> 的值 “gnuplot” 被换为 “wgnuplot”，则 gnuplot 会打开一个控制台窗口，在该窗口中可以输入 gnuplot 的命令。但是，启用此功能会使得每次绘图时 gnuplot 短时间内独占键盘。</p>
<h3 id="在工作簿中嵌入动图"><span class="header-section-number">2.3.6</span> 在工作簿中嵌入动图</h3>
<p>在三维图形中，点的坐标往往难以读取。一个可行的替代方法是将第三个参数指定给鼠标滚轮（即绘制多个二维图形）。<code>with_slider_draw</code> 命令是 <code>wxdraw2d</code> 的一个版本，它可以绘制多幅图片，使用户可以通过移动菜单栏中的滑块（或滚动鼠标滚轮）在这些图片之间切换。wxMaxima 支持将此动图导出为 gif 格式的图片。</p>
<p><code>with_slider_draw</code> 命令的前两个参数是用于控制绘图的变量名称和变量值的列表，接下来的参数与 <code>wxdraw2d</code> 命令的参数相同：</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb8-1" title="1"><span class="cn">with_slider_draw</span>(</a>
<a class="sourceLine" id="cb8-2" title="2">    <span class="cn">f</span>,[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">10</span>],</a>
<a class="sourceLine" id="cb8-3" title="3">    <span class="cn">title</span>=<span class="fu">concat</span>(<span class="st">&quot;f=&quot;</span>,<span class="cn">f</span>,<span class="st">&quot;Hz&quot;</span>),</a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="cn">explicit</span>(</a>
<a class="sourceLine" id="cb8-5" title="5">        <span class="fu">sin</span>(<span class="dv">2</span>*<span class="va">%pi</span>*<span class="cn">f</span>*<span class="cn">x</span>),</a>
<a class="sourceLine" id="cb8-6" title="6">        <span class="cn">x</span>,<span class="dv">0</span>,<span class="dv">1</span></a>
<a class="sourceLine" id="cb8-7" title="7">    ),<span class="cn">grid</span>=<span class="kw">true</span></a>
<a class="sourceLine" id="cb8-8" title="8">);</a></code></pre></div>
<p>对三维绘图而言，类似的功能由命令 <code>with_slider_draw3d</code> 提供，可用参数来旋转三维图形：</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb9-1" title="1"><span class="cn">wxanimate_autoplay</span>:<span class="kw">true</span>;</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="cn">wxanimate_framerate</span>:<span class="dv">20</span>;</a>
<a class="sourceLine" id="cb9-3" title="3"><span class="cn">with_slider_draw3d</span>(</a>
<a class="sourceLine" id="cb9-4" title="4">    α,<span class="fu">makelist</span>(<span class="cn">i</span>,<span class="cn">i</span>,<span class="dv">1</span>,<span class="dv">360</span>,<span class="dv">3</span>),</a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="cn">title</span>=<span class="fu">sconcat</span>(<span class="st">&quot;α=&quot;</span>,α),</a>
<a class="sourceLine" id="cb9-6" title="6">    <span class="cn">surface_hide</span>=<span class="kw">true</span>,</a>
<a class="sourceLine" id="cb9-7" title="7">    <span class="cn">contour</span>=<span class="cn">both</span>,</a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="cn">view</span>=[<span class="dv">60</span>,α],</a>
<a class="sourceLine" id="cb9-9" title="9">    <span class="cn">explicit</span>(</a>
<a class="sourceLine" id="cb9-10" title="10">        <span class="fu">sin</span>(<span class="cn">x</span>)*<span class="fu">sin</span>(<span class="cn">y</span>),</a>
<a class="sourceLine" id="cb9-11" title="11">        <span class="cn">x</span>,-π,π,</a>
<a class="sourceLine" id="cb9-12" title="12">        <span class="cn">y</span>,-π,π</a>
<a class="sourceLine" id="cb9-13" title="13">    )</a>
<a class="sourceLine" id="cb9-14" title="14">)$</a></code></pre></div>
<p>如果重要的是图的大致形状，那么只要稍微移动一点，就可以直观地看出它的三维特征：</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb10-1" title="1"><span class="cn">wxanimate_autoplay</span>:<span class="kw">true</span>;</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="cn">wxanimate_framerate</span>:<span class="dv">20</span>;</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="cn">with_slider_draw3d</span>(</a>
<a class="sourceLine" id="cb10-4" title="4">    <span class="cn">t</span>,<span class="fu">makelist</span>(<span class="cn">i</span>,<span class="cn">i</span>,<span class="dv">0</span>,<span class="dv">2</span>*π,<span class="fl">.05</span>*π),</a>
<a class="sourceLine" id="cb10-5" title="5">    <span class="cn">title</span>=<span class="fu">sconcat</span>(<span class="st">&quot;t=&quot;</span>,<span class="cn">t</span>),</a>
<a class="sourceLine" id="cb10-6" title="6">    <span class="cn">surface_hide</span>=<span class="kw">true</span>,</a>
<a class="sourceLine" id="cb10-7" title="7">    <span class="cn">contour</span>=<span class="cn">both</span>,</a>
<a class="sourceLine" id="cb10-8" title="8">    <span class="cn">view</span>=[<span class="dv">60</span>,<span class="dv">30+5</span>*<span class="fu">sin</span>(<span class="cn">t</span>)],</a>
<a class="sourceLine" id="cb10-9" title="9">    <span class="cn">explicit</span>(</a>
<a class="sourceLine" id="cb10-10" title="10">        <span class="fu">sin</span>(<span class="cn">x</span>)*<span class="cn">y</span>^<span class="dv">2</span>,</a>
<a class="sourceLine" id="cb10-11" title="11">        <span class="cn">x</span>,<span class="dv">-2</span>*π,<span class="dv">2</span>*π,</a>
<a class="sourceLine" id="cb10-12" title="12">        <span class="cn">y</span>,<span class="dv">-2</span>*π,<span class="dv">2</span>*π</a>
<a class="sourceLine" id="cb10-13" title="13">    )</a>
<a class="sourceLine" id="cb10-14" title="14">)$</a></code></pre></div>
<p>对于更熟悉 <code>plot</code> 而不是 <code>draw</code> 的用户来说，还有一组函数：</p>
<ul>
<li><code>with_slider</code>；</li>
<li><code>wxanimate</code>。</li>
</ul>
<p>在通常情况下，动图会以设置中选择的帧率回放或导出。要设置回放单个动图的速度，可以修改变量 <code>wxanimate_framerate</code>：</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb11-1" title="1"><span class="cn">wxanimate</span>(<span class="cn">a</span>, <span class="dv">10</span>, <span class="fu">sin</span>(<span class="cn">a</span>*<span class="cn">x</span>), [<span class="cn">x</span>,<span class="dv">-5</span>,<span class="dv">5</span>]),</a>
<a class="sourceLine" id="cb11-2" title="2">     <span class="cn">wxanimate_framerate</span>=<span class="dv">6</span>$</a></code></pre></div>
<p>动图函数使用 Maxima 的 <code>makelist</code> 命令，因此存在如下缺陷：只有当滑块变量在绘图表达式中直接可见时，才会将该变量的值替换到表达式中。因此，执行以下例子将显示错误信息：</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb12-1" title="1"><span class="cn">f</span>:<span class="fu">sin</span>(<span class="cn">a</span>*<span class="cn">x</span>);</a>
<a class="sourceLine" id="cb12-2" title="2"><span class="cn">with_slider_draw</span>(</a>
<a class="sourceLine" id="cb12-3" title="3">    <span class="cn">a</span>,<span class="fu">makelist</span>(<span class="cn">i</span>/<span class="dv">2</span>,<span class="cn">i</span>,<span class="dv">1</span>,<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb12-4" title="4">    <span class="cn">title</span>=<span class="fu">concat</span>(<span class="st">&quot;a=&quot;</span>,<span class="fu">float</span>(<span class="cn">a</span>)),</a>
<a class="sourceLine" id="cb12-5" title="5">    <span class="cn">grid</span>=<span class="kw">true</span>,</a>
<a class="sourceLine" id="cb12-6" title="6">    <span class="cn">explicit</span>(<span class="cn">f</span>,<span class="cn">x</span>,<span class="dv">0</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb12-7" title="7">)$</a></code></pre></div>
<p>如果修改为明确要求 Maxima 代入滑块变量的值，则修改后的代码可用于绘制动图：</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb13-1" title="1"><span class="cn">f</span>:<span class="fu">sin</span>(<span class="cn">a</span>*<span class="cn">x</span>);</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="cn">with_slider_draw</span>(</a>
<a class="sourceLine" id="cb13-3" title="3">    <span class="cn">b</span>,<span class="fu">makelist</span>(<span class="cn">i</span>/<span class="dv">2</span>,<span class="cn">i</span>,<span class="dv">1</span>,<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb13-4" title="4">    <span class="cn">title</span>=<span class="fu">concat</span>(<span class="st">&quot;a=&quot;</span>,<span class="fu">float</span>(<span class="cn">b</span>)),</a>
<a class="sourceLine" id="cb13-5" title="5">    <span class="cn">grid</span>=<span class="kw">true</span>,</a>
<a class="sourceLine" id="cb13-6" title="6">    <span class="cn">explicit</span>(</a>
<a class="sourceLine" id="cb13-7" title="7">        <span class="fu">subst</span>(<span class="cn">a</span>=<span class="cn">b</span>,<span class="cn">f</span>),</a>
<a class="sourceLine" id="cb13-8" title="8">        <span class="cn">x</span>,<span class="dv">0</span>,<span class="dv">10</span></a>
<a class="sourceLine" id="cb13-9" title="9">    )</a>
<a class="sourceLine" id="cb13-10" title="10">)$</a></code></pre></div>
<h3 id="同时打开多个绘图窗口"><span class="header-section-number">2.3.7</span> 同时打开多个绘图窗口</h3>
<p>虽然这个 Maxima 特性不是由 wxMaxima 提供的，但是（如果安装的 Maxima 支持此特性）有时使用起来会很方便。以下例子来自 Mario Rodriguez 在 Maxima 邮件列表中的一篇帖子：</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb14-1" title="1">    <span class="fu">load</span>(<span class="fu">draw</span>);</a>
<a class="sourceLine" id="cb14-2" title="2"></a>
<a class="sourceLine" id="cb14-3" title="3">    <span class="co">/* Parabola in window #1 */</span></a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="fu">draw2d</span>(<span class="cn">terminal</span>=[<span class="cn">wxt</span>,<span class="dv">1</span>],<span class="cn">explicit</span>(<span class="cn">x</span>^<span class="dv">2</span>,<span class="cn">x</span>,<span class="dv">-1</span>,<span class="dv">1</span>));</a>
<a class="sourceLine" id="cb14-5" title="5"></a>
<a class="sourceLine" id="cb14-6" title="6">    <span class="co">/* Parabola in window #2 */</span></a>
<a class="sourceLine" id="cb14-7" title="7">    <span class="fu">draw2d</span>(<span class="cn">terminal</span>=[<span class="cn">wxt</span>,<span class="dv">2</span>],<span class="cn">explicit</span>(<span class="cn">x</span>^<span class="dv">2</span>,<span class="cn">x</span>,<span class="dv">-1</span>,<span class="dv">1</span>));</a>
<a class="sourceLine" id="cb14-8" title="8"></a>
<a class="sourceLine" id="cb14-9" title="9">    <span class="co">/* Paraboloid in window #3 */</span></a>
<a class="sourceLine" id="cb14-10" title="10">    <span class="fu">draw3d</span>(<span class="cn">terminal</span>=[<span class="cn">wxt</span>,<span class="dv">3</span>],<span class="cn">explicit</span>(<span class="cn">x</span>^<span class="dv">2</span>+<span class="cn">y</span>^<span class="dv">2</span>,<span class="cn">x</span>,<span class="dv">-1</span>,<span class="dv">1</span>,<span class="cn">y</span>,<span class="dv">-1</span>,<span class="dv">1</span>));</a></code></pre></div>
<p>在同一个窗口中绘制这些图形也是可行的：</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb15-1" title="1">    <span class="cn">wxdraw</span>(</a>
<a class="sourceLine" id="cb15-2" title="2">        <span class="cn">gr2d</span>(</a>
<a class="sourceLine" id="cb15-3" title="3">            <span class="cn">key</span>=<span class="st">&quot;sin (x)&quot;</span>,<span class="cn">grid</span>=[<span class="dv">2</span>,<span class="dv">2</span>],</a>
<a class="sourceLine" id="cb15-4" title="4">            <span class="cn">explicit</span>(<span class="fu">sin</span>(<span class="cn">x</span>),<span class="cn">x</span>,<span class="dv">0</span>,<span class="dv">2</span>*<span class="va">%pi</span>)),</a>
<a class="sourceLine" id="cb15-5" title="5">        <span class="cn">gr2d</span>(</a>
<a class="sourceLine" id="cb15-6" title="6">        <span class="cn">key</span>=<span class="st">&quot;cos (x)&quot;</span>,<span class="cn">grid</span>=[<span class="dv">2</span>,<span class="dv">2</span>],</a>
<a class="sourceLine" id="cb15-7" title="7">        <span class="cn">explicit</span>(<span class="fu">cos</span>(<span class="cn">x</span>),<span class="cn">x</span>,<span class="dv">0</span>,<span class="dv">2</span>*<span class="va">%pi</span>))</a>
<a class="sourceLine" id="cb15-8" title="8">     );</a></code></pre></div>
<h3 id="用-draw-函数绘图侧边栏"><span class="header-section-number">2.3.8</span> “用 draw 函数绘图”侧边栏</h3>
<p>“用 draw 函数绘图”侧边栏暗含一个简单的代码生成器，使用它可以利用 Maxima 的 draw 程序包方便灵活地生成一些图形绘制命令模板。</p>
<h4 id="二维图形"><span class="header-section-number">2.3.8.1</span> 二维图形</h4>
<p>提供绘制二维图形的 <code>draw()</code> 命令的简单模板。然后可以使用具体的绘图命令填充该模板，例如利用“二维图形”按钮下方的其他按钮导入绘图命令。</p>
<p>One helpful feature of the 2D button is that it allows to setup the scene as an animation in which a variable (by default it is <em>t</em>) has a different value in each frame: Often a moving 2D plot allows easier interpretation than the same data in a non-moving 3D one.</p>
<h4 id="三维图形"><span class="header-section-number">2.3.8.2</span> 三维图形</h4>
<p>提供绘制三维图形的 <code>draw()</code> 命令的简单模板。如果没有主动使用此功能和上一功能，则所有其他按钮都将自动提前调用上一功能中的绘制二维图形模板。</p>
<h4 id="表达式"><span class="header-section-number">2.3.8.3</span> 表达式</h4>
<p>在光标当前所在的 <code>draw()</code> 命令中添加绘图函数表达式，如 <code>sin(x)</code>, <code>x*sin(x)</code> 或者 <code>x^2+2*x-4</code> 等 。每个图中可以绘制任意数量的图形。如果没有 <code>draw()</code> 命令，将调用绘制二维图形的模板。</p>
<h4 id="隐式图形"><span class="header-section-number">2.3.8.4</span> 隐式图形</h4>
<p>尝试寻找满足 <code>y=sin(x)</code>，<code>y*sin(x)=3</code> 或 <code>x^2+y^2=4</code> 之类的表达式的所有解，并在光标当前所在的 <code>draw()</code> 命令中绘制对应曲线。如果没有 <code>draw()</code> 命令，将调用绘制二维图形的模板。</p>
<h4 id="参数式图形"><span class="header-section-number">2.3.8.5</span> 参数式图形</h4>
<p>将变量（如 t）从下限变化到上限，并在当前绘图命令中使用两个表达式（如 <code>t*sin(t)</code> 和 <code>t*cos(t)</code>），以生成曲线上点的横、纵坐标 (x,y)（在三维图形中，第三个表达式生成竖坐标 z）。</p>
<h4 id="点"><span class="header-section-number">2.3.8.6</span> 点</h4>
<p>绘制多个点，并且可以选择顺次连接它们。点的坐标取自列表的列表、二维数组或为每个轴指定的一个列表或数组。</p>
<h4 id="图形标题"><span class="header-section-number">2.3.8.7</span> 图形标题</h4>
<p>在图形上方绘制标题。</p>
<h4 id="坐标轴"><span class="header-section-number">2.3.8.8</span> 坐标轴</h4>
<p>设置坐标轴。</p>
<h4 id="等高线"><span class="header-section-number">2.3.8.9</span> 等高线</h4>
<p>（仅适用于三维绘图）将类似于山地图中的等高线添加到当前 <code>draw()</code> 命令绘制的三维图形中，或图形在坐标面的二维投影上。另外，此向导也可以用来不绘制曲面而只显示等高线。</p>
<h4 id="图形名称"><span class="header-section-number">2.3.8.10</span> 图形名称</h4>
<p>在图例中增加下一个图形对应的图例项。空名称将阻止为下一个图形生成图例项。</p>
<h4 id="线条颜色"><span class="header-section-number">2.3.8.11</span> 线条颜色</h4>
<p>为当前 <code>draw()</code> 命令所绘图形设置线条颜色。</p>
<h4 id="填充颜色"><span class="header-section-number">2.3.8.12</span> 填充颜色</h4>
<p>为当前 <code>draw()</code> 命令所绘图形设置填充颜色。</p>
<h4 id="网格"><span class="header-section-number">2.3.8.13</span> 网格</h4>
<p>弹出设置网格线的向导。</p>
<h4 id="精度"><span class="header-section-number">2.3.8.14</span> 精度</h4>
<p>允许选择适当数目的点，以兼顾速度与精度（任何绘图程序都会权衡两者）。</p>
<h2 id="嵌入图片"><span class="header-section-number">2.4</span> 嵌入图片</h2>
<p>如果使用的是 <code>.wxmx</code> 文件格式，则可以通过拖放将图片文件嵌入 wxMaxima 文档中。但有时（例如某个图像的内容可能在稍后发生更改）最好指明在计算时加载图像：</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb16-1" title="1"><span class="cn">show_image</span>(<span class="st">&quot;man.png&quot;</span>);</a></code></pre></div>
<h2 id="启动时读取的文件"><span class="header-section-number">2.5</span> 启动时读取的文件</h2>
<p>在 wxMaxima 的设置对话框中可以编辑两个文件的命令，这些命令在启动时被执行：</p>
<ul>
<li>文件 <code>maxima-init.mac</code> 中包含每次启动 Maxima 时被执行的命令；</li>
<li>文件 <code>wxmaxima-init.mac</code> 中包含每次 wxMaxima 调用 Maxima 时被执行的命令。</li>
</ul>
<p>这些文件位于用户的主目录或配置文件目录中的 Maxima 用户目录（在 Windows 系统中通常为 maxima，在其他系统中为 .maxima）。使用命令 <code>maxima_userdir;</code> 可以确定该目录。</p>
<h2 id="以-wx-开头的特殊变量"><span class="header-section-number">2.6</span> 以 wx 开头的特殊变量</h2>
<ul>
<li><code>wxsubscripts</code> ：告诉 Maxima 是否应将包含下划线的变量名（例如 <code>R_150</code>）转换为带下标的变量名。有关自动转换哪些变量名的详细信息，请参见 <code>wxdeclare_subscript</code>。</li>
<li><code>wxfilename</code>：此变量包含当前在 wxMaxima 中打开的文件的名称。</li>
<li><code>wxplot_pngcairo</code>：表明 wxMaxima 是否尝试使用 gnuplot 的 pngcairo 功能，以提供更多的线条样式和更好的整体图形质量。</li>
<li><code>wxplot_size</code>：定义嵌入绘图的分辨率。</li>
<li><code>wxchangedir</code>：在大多数操作系统上，wxMaxima 自动将 Maxima 的工作目录设置为当前文件的目录。这允许文件 I/O（例如通过 <code>read_matrix</code>）工作，而无需指定必须读或写的文件的整个路径。在 Windows 操作系统上，此功能有时会导致错误消息，因此可以在设置对话框中将其设置为 <code>false</code>。</li>
<li><code>wxanimate_framerate</code>：下一个动图回放的帧率。</li>
<li><code>wxanimate_autoplay</code>：是否在默认情况下自动播放动图。</li>
</ul>
<h2 id="输出美观的二维公式"><span class="header-section-number">2.7</span> 输出美观的二维公式</h2>
<p>函数 <code>table_form()</code> 显示的二维列表比 Maxima 的默认输出更具可读性。该函数的输入是一个列表，其中含一个或多个列表。与 <code>print</code> 命令类似，此命令即使以符号 <code>$</code> 结尾也会显示输出。以分号 <code>;</code> 结束命令时，除了得到列表，还会有“done”语句。</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb17-1" title="1"><span class="cn">table_form</span>(</a>
<a class="sourceLine" id="cb17-2" title="2">    [</a>
<a class="sourceLine" id="cb17-3" title="3">        [<span class="dv">1</span>,<span class="dv">2</span>],</a>
<a class="sourceLine" id="cb17-4" title="4">        [<span class="dv">3</span>,<span class="dv">4</span>]</a>
<a class="sourceLine" id="cb17-5" title="5">    ]</a>
<a class="sourceLine" id="cb17-6" title="6">)$</a></code></pre></div>
<p>正如下一个例子所示，可以在执行 <code>table_form</code> 命令之前创建需要显示的列表。</p>
<figure>
<img src="./MatrixTableExample.png" alt="一个三行表的例子" id="img_MatrixTableExample" /><figcaption>一个三行表的例子</figcaption>
</figure>
<p>此外，由于矩阵是含列表的列表，它也可以用类似的方式转换为表格。</p>
<figure>
<img src="./SecondTableExample.png" alt="另一个 table_form 的例子" id="img_SecondTableExample" /><figcaption>另一个 table_form 的例子</figcaption>
</figure>
<h2 id="错误bug报告"><span class="header-section-number">2.8</span> 错误（bug）报告</h2>
<p>wxMaxima 提供了一些函数，用于收集当前系统的错误报告信息：</p>
<ul>
<li><code>wxbuild_info()</code> 收集当前运行的 wxMaxima 的版本信息；</li>
<li><code>wxbug_report()</code> 说明如何以及在何处提交错误报告。</li>
</ul>
<h2 id="让输出显示为红色"><span class="header-section-number">2.9</span> 让输出显示为红色</h2>
<p>Maxima 的 <code>box()</code> 命令使 wxMaxima 以红色输出其参数。</p>
<hr />
<h1 id="疑难解答"><span class="header-section-number">3</span> 疑难解答</h1>
<h2 id="无法连接到-maxima"><span class="header-section-number">3.1</span> 无法连接到 Maxima</h2>
<p>由于 Maxima（进行实际数学运算的程序）和 wxMaxima（提供易于使用的用户界面的程序）是通过本地网络连接进行通信的独立程序，因此，最有可能的原因是这种连接不起作用。例如，可能设置了防火墙不仅可以阻止来自互联网的未经授权的连接（也许还会拦截一些通向互联网的连接），而且可以阻止同一台计算机内部的进程间通信。注意，由于 Maxima 由 Lisp 语言处理程序运行，因此被阻止的通信进程不一定命名为“Maxima”。此时打开网络连接的程序名称可能是 sbcl、gcl、ccl、lisp.exe 或者类似的名字。</p>
<p>在 Un*x 系统上，另一个可能的原因是在同一台计算机上的两个程序之间提供网络连接的环回（loopback）网络配置不正确。</p>
<h2 id="从损坏的-.wxmx-文件中取回信息的方法"><span class="header-section-number">3.2</span> 从损坏的 .wxmx 文件中取回信息的方法</h2>
<p>大多数现代的、基于 XML 格式的文件其实都是普通的压缩（zip）文件。wxMaxima 没有启用压缩，因此可以在任何文本编辑器中查看 <code>.wxmx</code> 文件的内容。</p>
<p>如果文件末尾的 zip 签名仍然完整，那么将损坏的 <code>.wxmx</code> 文件重命名为 <code>.zip</code> 文件后，大多数操作系统都提供了提取存储在其中的信息的方法。当需要从该文件中恢复原始图像文件时，可以执行此操作。当 zip 签名不完整时，也不是毫无办法：如果 wxMaxima 在保存文件时检测到错误，那么还会有一个 <code>.wxmx~</code> 文件，其内容可能会有所帮助。</p>
<p>即使没有 <code>.wxmx~</code> 文件，<code>.wxmx</code> 文件中 XML 部分是未压缩的，可以将该文件重命名为 <code>.txt</code> 文件，并使用文本编辑器恢复文件中的 XML 部分（以 <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</code> 开头，并以 <code>&lt;/wxMaximaDocument&gt;</code> 结尾（在 XML 部分的前后，可在文本编辑器中看到一些不可读的二进制内容）。</p>
<p>如果将只包含 XML 部分的文本文件（例如，将这一部分复制并粘贴到新文件中）保存为以 <code>.xml</code> 结尾的文件，则 wxMaxima 可以从中恢复原始文档的文本。</p>
<h2 id="在命令完成前显示一些调试信息"><span class="header-section-number">3.3</span> 在命令完成前显示一些调试信息</h2>
<p>通常 wxMaxima 会等待最后的公式形成后才开始输出，这节省了多次尝试输出部分公式的时间。不过， <code>disp()</code> 命令可以立即输出调试信息，而不必等待当前的 Maxima 命令完成：</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">for</span> <span class="cn">i</span>:<span class="dv">1</span> <span class="kw">thru</span> <span class="dv">10</span> <span class="kw">do</span> (</a>
<a class="sourceLine" id="cb18-2" title="2">   <span class="fu">disp</span>(<span class="cn">i</span>),</a>
<a class="sourceLine" id="cb18-3" title="3">   <span class="co">/* (sleep n) 是可接在字符&quot;?&quot;后使用的 Lisp 函数 */</span></a>
<a class="sourceLine" id="cb18-4" title="4">   <span class="co">/* 它推迟了程序的运行，此处是 3 秒 */</span></a>
<a class="sourceLine" id="cb18-5" title="5">   ?<span class="cn">sleep</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb18-6" title="6">)$</a></code></pre></div>
<h2 id="绘图结果是空的绘图框和错误信息"><span class="header-section-number">3.4</span> 绘图结果是空的绘图框和错误信息</h2>
<p>这意味着 wxMaxima 无法读取由 Maxima 指示 gnuplot 创建的文件。</p>
<p>这个错误的可能原因如下：</p>
<ul>
<li>绘图命令是第三方程序包（如 <code>implicit_plot</code>）的一部分，但在尝试绘图之前，没有调用 Maxima 的 <code>load()</code> 命令加载此包。</li>
<li>Maxima 试图做一些当前版本的 gnuplot 无法理解的事情。此时，在由 Maxima 的变量 <code>maxima_userdir</code> 确定的目录中，以 <code>.gnuplot</code> 结尾的文件包含了 Maxima 给 gnuplot 的指令。在调试问题时，此文件的内容在大多数情况下都是有帮助的。</li>
<li>Gnuplot 被设置为使用 pngcairo 库以提供抗锯齿功能和更多线条样式，但是在编译时没有开启此项功能支持。解决方案：取消选中设置对话框中的“使用 cairo 终端进行绘图”复选框，并且不要在 Maxima 中将 <code>wxplot_pngcairo</code> 设置为true。</li>
<li>Gnuplot 没有生成有效的 .png 文件。</li>
</ul>
<h2 id="绘制动图时得到error-undefined-variable错误未定义的变量"><span class="header-section-number">3.5</span> 绘制动图时得到“error: undefined variable（错误：未定义的变量）”</h2>
<p>在默认情况下，滑块变量的值需要被替换到要绘制图形的表达式中，即该变量在表达式中可见。使用 <code>subst()</code> 命令将滑块变量替换到要绘制图形的方程中可以解决此问题。<a href="#embedding-animations-into-the-spreadsheet">在工作簿中嵌入动图</a>一节的末尾有一个例子。</p>
<h2 id="删除了一个单元格而撤销操作不起作用"><span class="header-section-number">3.6</span> 删除了一个单元格，而撤销操作不起作用</h2>
<p>对单元格的操作和单元格内部的更改均有单独的撤消函数，因此发生这种情况的可能性很低。如果确实是这样，有如下方法可以恢复数据：</p>
<ul>
<li>wxMaxima 实际上有两个撤消功能：全局撤消（如果未选择单元格）和单元格内撤消（如果光标在单元格内）。可以尝试使用这两个撤消选项，以查看是否可以恢复内容。</li>
<li>如果有办法确定 Maxima 分配给该单元格的标签，只需键入此标签，单元格的内容就会重新出现。</li>
<li>如果忘了单元格的标签，也无需惊慌。在“查看”菜单中，可以勾选显示“历史命令”侧边栏，其中显示了最近使用的所有 Maxima 命令。</li>
<li>如果以上都没有帮助，可以调用 Maxima 的回放功能：</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb19-1" title="1"><span class="fu">playback</span>();</a></code></pre></div>
<h2 id="wxmaxima-启动时显示信息maxima-process-terminatedmaxima-进程已终止"><span class="header-section-number">3.7</span> wxMaxima 启动时显示信息“Maxima process terminated（Maxima 进程已终止）。”</h2>
<p>一个可能的原因是，在设置对话框的“Maxima”选项卡中设置的位置找不到 Maxima 程序，因此根本无法运行 Maxima。将路径设置为有效的 Maxima 二进制文件所在文件夹应该可以解决此问题。</p>
<h2 id="maxima-永远在计算中而不响应输入"><span class="header-section-number">3.8</span> Maxima 永远在计算中而不响应输入</h2>
<p>理论上讲，有可能是 wxMaxima 没有意识到 Maxima 已经完成了计算，因此没有得到通知，以告知它可以向 Maxima 发送新的数据。如果是这种情况，重新求值可能会使两个程序同步。</p>
<h2 id="基于-sbcl-的-maxima-耗尽内存"><span class="header-section-number">3.9</span> 基于 SBCL 的 Maxima 耗尽内存</h2>
<p>默认情况下，Lisp 编译器 SBCL 有一个内存限制，以使得它能在低端计算机上运行。当编译一个大型软件包（如 Lapack）或处理特别大的列表和方程时，该限制值可能太低。为了扩展内存限制，可以向 SBCL 提供命令行参数 <code>--dynamic-space-size</code>，该参数告诉 SBCL 应该使用多少兆字节的内存。32位 Windows 系统版本的 SBCL 最多可使用 999 兆字节，64位 Windows 系统版本的 SBCL 可以被设置为使用更大的内存（例如超过编译 Lapack 所需的约 1280 兆字节）。</p>
<p>为 Maxima（因此也为 SBCL）提供命令行参数的一种方法是利用 wxMaxima 设置对话框的“额外的 Maxima 参数（Additional parameters for Maxima）”字段。</p>
<figure>
<img src="./sbclMemory.png" alt="SBCL 内存" id="img_sbclMemory" /><figcaption>SBCL 内存</figcaption>
</figure>
<h2 id="在-ubuntu-系统上有时输入无响应或响应迟缓"><span class="header-section-number">3.10</span> 在 Ubuntu 系统上，有时输入无响应或响应迟缓</h2>
<p>安装软件包 <code>ibus-gtk</code> 应该可以解决此问题. 详情见 <a href="https://bugs.launchpad.net/ubuntu/+source/wxwidgets3.0/+bug/1421558">https://bugs.launchpad.net/ubuntu/+source/wxwidgets3.0/+bug/1421558</a>。</p>
<h2 id="wxmaxima-在处理希腊字符或元音变音符时停止"><span class="header-section-number">3.11</span> wxMaxima 在处理希腊字符或元音变音符时停止</h2>
<p>如果所使用的 Maxima 基于SBCL，则必须将以下行添加到 <code>.sbclrc</code> 文件中：</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp"><a class="sourceLine" id="cb20-1" title="1">(<span class="kw">setf</span> sb-impl::*default-external-format* :utf<span class="dv">-8</span>)</a></code></pre></div>
<p><code>.sbclrc</code> 文件应放入特定的文件夹。任何基于 SBCL 的 Maxima 如果已经在当前会话中计算了一个单元格，那么在获得如下命令后，都会显示该文件的位置：</p>
<pre><code>:lisp (sb-impl::userinit-pathname)</code></pre>
<h2 id="绘图-1"><span class="header-section-number">3.12</span> 绘图</h2>
<h3 id="是否可以同时输出和嵌入绘图文件"><span class="header-section-number">3.12.1</span> 是否可以同时输出和嵌入绘图文件？</h3>
<p>工作簿可嵌入 <code>.png</code> 文件。wxMaxima 允许用户指定它们的生成位置：</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb22-1" title="1"><span class="cn">wxdraw2d</span>(</a>
<a class="sourceLine" id="cb22-2" title="2">    <span class="cn">file_name</span>=<span class="st">&quot;test&quot;</span>,</a>
<a class="sourceLine" id="cb22-3" title="3">    <span class="cn">explicit</span>(<span class="fu">sin</span>(<span class="cn">x</span>),<span class="cn">x</span>,<span class="dv">1</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb22-4" title="4">);</a></code></pre></div>
<p>如果要使用不同的格式，则可以先生成图像，然后再将其导入工作簿：</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb23-1" title="1"><span class="fu">load</span>(<span class="st">&quot;draw&quot;</span>);</a>
<a class="sourceLine" id="cb23-2" title="2"><span class="cn">pngdraw</span>(<span class="cn">name</span>,[<span class="cn">contents</span>]):=</a>
<a class="sourceLine" id="cb23-3" title="3">(</a>
<a class="sourceLine" id="cb23-4" title="4">    <span class="fu">draw</span>(</a>
<a class="sourceLine" id="cb23-5" title="5">        <span class="fu">append</span>(</a>
<a class="sourceLine" id="cb23-6" title="6">            [</a>
<a class="sourceLine" id="cb23-7" title="7">                <span class="cn">terminal</span>=<span class="cn">pngcairo</span>,</a>
<a class="sourceLine" id="cb23-8" title="8">                <span class="cn">dimensions</span>=<span class="cn">wxplot_size</span>,</a>
<a class="sourceLine" id="cb23-9" title="9">                <span class="cn">file_name</span>=<span class="cn">name</span></a>
<a class="sourceLine" id="cb23-10" title="10">            ],</a>
<a class="sourceLine" id="cb23-11" title="11">            <span class="cn">contents</span></a>
<a class="sourceLine" id="cb23-12" title="12">        )</a>
<a class="sourceLine" id="cb23-13" title="13">    ),</a>
<a class="sourceLine" id="cb23-14" title="14">    <span class="cn">show_image</span>(<span class="fu">printf</span>(<span class="kw">false</span>,<span class="st">&quot;~a.png&quot;</span>,<span class="cn">name</span>))</a>
<a class="sourceLine" id="cb23-15" title="15">);</a>
<a class="sourceLine" id="cb23-16" title="16"><span class="cn">pngdraw2d</span>(<span class="cn">name</span>,[<span class="cn">contents</span>]):=</a>
<a class="sourceLine" id="cb23-17" title="17">    <span class="cn">pngdraw</span>(<span class="cn">name</span>,<span class="cn">gr2d</span>(<span class="cn">contents</span>));</a>
<a class="sourceLine" id="cb23-18" title="18"></a>
<a class="sourceLine" id="cb23-19" title="19"><span class="cn">pngdraw2d</span>(<span class="st">&quot;Test&quot;</span>,</a>
<a class="sourceLine" id="cb23-20" title="20">        <span class="cn">explicit</span>(<span class="fu">sin</span>(<span class="cn">x</span>),<span class="cn">x</span>,<span class="dv">1</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb23-21" title="21">);</a></code></pre></div>
<h3 id="是否可以指定绘制图形的相对比例"><span class="header-section-number">3.12.2</span> 是否可以指定绘制图形的相对比例？</h3>
<p>直接使用 Maxima 无法完成此功能，但是可以利用 gnuplot 命令：</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode maxima"><code class="sourceCode maxima"><a class="sourceLine" id="cb24-1" title="1"><span class="cn">wxdraw2d</span>(</a>
<a class="sourceLine" id="cb24-2" title="2">    <span class="cn">proportional_axis</span>=<span class="cn">xy</span>,</a>
<a class="sourceLine" id="cb24-3" title="3">    <span class="cn">explicit</span>(<span class="fu">sin</span>(<span class="cn">x</span>),<span class="cn">x</span>,<span class="dv">1</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb24-4" title="4">),<span class="cn">wxplot_size</span>=[<span class="dv">1000</span>,<span class="dv">1000</span>];</a></code></pre></div>
<hr />
<h1 id="常见提问faq"><span class="header-section-number">4</span> 常见提问（FAQ）</h1>
<h2 id="有没有办法在-latex-页面中显示更多的文字"><span class="header-section-number">4.1</span> 有没有办法在 LaTeX 页面中显示更多的文字？</h2>
<p>Yes. Use the LaTeX package “geometry” to specify the size of the borders.</p>
<p>You can add the following line to the LaTeX preamble (for example by using the respective field in the config dialogue (“Export”-&gt;“Additional lines for the TeX preamble”), to set borders of 1cm):</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode latex"><code class="sourceCode latex"><a class="sourceLine" id="cb25-1" title="1"><span class="bu">\usepackage</span>[left=1cm,right=1cm,top=1cm,bottom=1cm]{<span class="ex">geometry</span>}</a></code></pre></div>
<h2 id="是否有深色模式"><span class="header-section-number">4.2</span> 是否有深色模式？</h2>
<p>如果 wxWidgets 版本足够新，那么当系统设置了深色主题时，wxMaxima 将自动处于深色模式。在默认情况下，工作簿本身具有浅色背景。但也可以进行其他配置：利用菜单“查看-&gt;反转工作簿亮度”，可以快速将工作簿在浅色模式和深色模式中转换。</p>
<h2 id="wxmaxima-有时在启动后的一段时间内无响应"><span class="header-section-number">4.3</span> wxMaxima 有时在启动后的一段时间内无响应</h2>
<p>wxMaxima 将一些大型任务（如解析 Maxima 的超过 1000 页的手册）委托给后台任务，而这些任务通常不会被执行。然而，当需要执行这样一个任务时，可能需要等待几秒钟才能继续工作。</p>
<hr />
<h1 id="命令行参数"><span class="header-section-number">5</span> 命令行参数</h1>
<p>在大多数操作系统中，wxMaxima 都有比运行命令行更简单的启动方式，所以用到命令行参数的可能性很小。不过，wxMaxima 仍然提供了一些命令行选项。</p>
<ul>
<li><code>-v</code> 或 <code>--version</code>：输出版本信息。</li>
<li><code>-h</code> 或 <code>--help</code>: 输出简短的帮助文本。</li>
<li><code>-o</code> 或 <code>--open=&lt;str&gt;</code>：打开作为此命令行参数的文件名。</li>
<li><code>-e</code> 或 <code>--eval</code>：打开文件后对公式单元格求值。</li>
<li><code>-b</code> 或 <code>--batch</code>：如果用命令行打开一个文件，则计算该文件中的所有单元格，然后保存文件。例如，如果文件中描述的会话使 Maxima 生成输出文件，则这一参数会很有用。如果 wxMaxima 检测到 Maxima 输出了错误信息，则批处理将停止；如果检测到 Maxima 有疑问，则批处理将暂停。Maxima 的计算过程有一定的交互性，因此无法保证完全无交互的批处理。</li>
<li><code>--logtostdout</code>：将所有“调试信息”侧边栏里的信息也输出到标准错误文件（stderr）。</li>
<li><code>--pipe</code>：将 Maxima 的信息通过管道（pipe）输出到标准输出文件（stdout）。</li>
<li><code>--exit-on-error</code>：在遇到任何 Maxima 错误时关闭程序。</li>
<li><code>-f</code> 或 <code>--ini=&lt;str&gt;</code>： 指定要使用的初始设定文件。</li>
<li><code>-u</code> 或 <code>--use-version=&lt;str&gt;</code>：指定要使用的 Maxima 的版本。</li>
<li><code>-l</code> 或 <code>--lisp=&lt;str&gt;</code>：指定 Maxima 使用的 Lisp 解释器。</li>
<li><code>-X</code> 或 <code>--extra-args=&lt;str&gt;</code>：指定额外的 Maxima 参数。</li>
<li><code>-m</code> 或 <code>--maxima=&lt;str&gt;</code>：指定 Maxima 程序的位置。</li>
<li><code>--enableipc</code>：使 Maxima 通过内部进程通讯来控制 wxMaxima （应谨慎使用此选项）。</li>
</ul>
<p>一些操作系统可能在命令行选项前面使用连字符（-，dash），而不是减号。</p>
</body>
</html>
